# Astrogator

Go interplanetary without porkchop plots.

A space-navigational aide for [Kerbal Space Program](http://www.kerbalspaceprogram.com/).

## Building

### Linux

```sh
git clone git@github.com:HebaruSan/astrogator.git
cd astrogator
ln -s /path/to/KSP/KSP_x64_Data src
make
```

## Known limitations

- Blizzy's toolbar is not and will not be supported. 0.23.5 was a long time ago, folks.
- Only the phase angle approximation is used for performance reasons.
- I don't know how to calculate plane change burns directly, so instead we create a succession of actual maneuver nodes at the AN/DN and ask KSP to tell us the resulting AN/DN, until it gets close to 0. This gets messy because we can't do that if the user has already set up some maneuver nodes that he wants to keep. Sometimes it raises exceptions inside core code.
- I can't get the maneuver / warp buttons to show their built-in `tooltipText` property, and they don't seem to have `onHover` events to set one up manually like we did for the app launcher.
- I was not able to find an API event for notification when the active vessel's orbit changes, so instead at each `FixedUpdate`, we check each time-invariant Keplerian orbital parameter to see if it has changed. They seem to experience tiny changes even when the craft is not under thrust (as if the values are being calculated dynamically with physics, which I thought Arsonide got rid of in 1.2), so we actually check to see if the previous and current value differ by more than 0.1%.

## Future plans

- Robustness
  - Create useful numbers for launches/landed and KSC
  - Return to LKO burns from Mun and Minmus
    - Lowest warp altitude limit + 5km
  - Better ejection timing with ejection angle
  - Include target Vessel as a destination
- Publish
  - Push to Github
    - Add screenshots to README
  - http://spacedock.info/kerbal-space-program
  - New thread on forums
  - [DialogGUI* thread](http://forum.kerbalspaceprogram.com/index.php?/topic/149324-popupdialog-and-the-dialoggui-classes/)
  - Reply to [Kerbal Navigator post](http://forum.kerbalspaceprogram.com/index.php?/topic/138886-what-mod-should-i-make/&do=findComment&comment=2562076), @Nansuchao
  - CKAN

## References

### Plugin authoring
- http://forum.kerbalspaceprogram.com/index.php?/topic/153765-getting-started-the-basics-of-writing-a-plug-in/
- http://forum.kerbalspaceprogram.com/index.php?/topic/151354-unity-ui-creation-tutorial/
- http://forum.kerbalspaceprogram.com/index.php?/topic/78231-application-launcher-and-mods/
- http://forum.kerbalspaceprogram.com/index.php?/topic/154006-solved-texture-issues/&do=findComment&comment=2904233
- https://kerbalspaceprogram.com/api/index.html

### Physics and math
- https://en.wikipedia.org/wiki/Hohmann_transfer_orbit
- https://en.wikipedia.org/wiki/Orbital_speed#Precise_orbital_speed

### Performance
- http://www.somasim.com/blog/2015/04/csharp-memory-and-performance-tips-for-unity/
- http://forum.kerbalspaceprogram.com/index.php?/topic/142712-devnote-tuesday-smashing-buttons/&do=findComment&comment=2653161

## Credits

- Phase angle logic and some icons borrowed from Kerbal Alarm Clock
- `.gitignore` borrowed from Transfer Window Planner
- `csproj` file borrowed from Transfer Window Planner and Craft Import and adapted. (I develop with `xbuild` and so could not generate files with an IDE.)
- r4m0n for making it easy to find plane change nodes
- [TCShipInfo](http://forum.kerbalspaceprogram.com/index.php?/topic/59724-112-v04-resource-details-in-tracking-center/) for figuring out the tracking station API
- Main app icon modified from http://fontawesome.io/icon/map/
- ProjectGuid generated by https://www.guidgenerator.com/online-guid-generator.aspx
- Hohmann, Tsiolkovsky, and Oberth for giving us the math
